{% extends "base.html" %}

{% block content %}
<div>{{ data }}</div>
  <script src="https://www.google.com/jsapi"></script>
  <script>
   google.load("visualization", "1", {packages:["corechart"]});
   google.setOnLoadCallback(drawChart);
   function drawChart() {
   var str3 = "{{ data }}"
   lng = str3.length
   str3 = str3.substring(2, lng - 2).split('&#39;').join('').split('], [')
    ms = []
    var arrLength = [];
    for (var i = 0; i < str3.length; i++) {arrLength[i] = [str3[i].split(', ')[0], str3[i].split(', ')[1]]}
    str4  = 'Выбор людей, по тотемам или по календарю' + str3 + " " + arrLength;


    var data = new google.visualization.arrayToDataTable([
    ['Газ', 'Объём'],
     ['Азот',     78.09],
     ['Кислород', 20.95],
     ['Аргон',    0.93],
     ['Углекислый газ', 0.03]
    ]);
    var options = {
     title: str4,
     is3D: true,
     pieResidueSliceLabel: 'Остальное'
    };
    var chart = new google.visualization.PieChart(document.getElementById('air'));
     chart.draw(data, options);
   }
  </script>
<div id="air" style="width: 700px; height: 600px;"></div>

{% endblock %}